{% extends "base.html" %}

{% block title %}Dashboard -         <div class="quick-links">
            <a href="/whoami" class="quick-link">
                <span class="link-icon">i</span>
                <span>Who Am I</span>
            </a>
            <a href="/headers" class="quick-link">
                <span class="link-icon">H</span>
                <span>Request Headers</span>
            </a>
            <a href="/logs" class="quick-link">
                <span class="link-icon">L</span>
                <span>Application Logs</span>
            </a>
            <a href="/health" class="quick-link">
                <span class="link-icon">âœ“</span>
                <span>Health Check</span>
            </a>
        </div>n{% endblock %}

{% block content %}
<div class="container">
    <!-- Welcome Card -->
    <div class="card welcome-card">
        <h1>Welcome back, <span class="user-email">{{ email }}</span></h1>
        <p class="subtitle">You are successfully authenticated and authorized</p>
    </div>

    <!-- Services Section -->
    <div class="card">
        <div class="card-header">
            <h2>Your Available Services</h2>
            <a href="/admin" class="btn btn-primary">
                Manage Routes
            </a>
        </div>
        
        <div id="services-grid" class="services-grid">
            {% if routes %}
                {% for route in routes %}
                <a href="{{ route.path }}" class="service-card" data-status="{{ route.status }}">
                    <div class="service-icon">â†—</div>
                    <div class="service-info">
                        <h3>{{ route.name }}</h3>
                        <p class="service-path">{{ route.path }}</p>
                        <p class="service-target">{{ route.target_ip }}:{{ route.target_port }}</p>
                    </div>
                    <div class="service-status status-{{ route.status }}">
                        {% if route.status == 'online' %}
                            <span class="status-dot"></span> Online
                        {% elif route.status == 'slow' %}
                            <span class="status-dot"></span> Slow
                        {% elif route.status == 'offline' %}
                            <span class="status-dot"></span> Offline
                        {% else %}
                            <span class="status-dot"></span> Unknown
                        {% endif %}
                    </div>
                </a>
                {% endfor %}
            {% else %}
                <div class="empty-state">
                    <div class="empty-icon">âˆ…</div>
                    <h3>No services configured yet</h3>
                    <p>Click "Manage Routes" to add your first service</p>
                    <a href="/admin" class="btn btn-primary">Get Started</a>
                </div>
            {% endif %}
        </div>
    </div>

    <!-- Quick Links -->
    <div class="card">
        <h2>Quick Links</h2>
        <div class="quick-links">
            <a href="/whoami" class="quick-link">
                <span class="link-icon">ðŸ‘¤</span>
                <span>Who Am I</span>
            </a>
            <a href="/headers" class="quick-link">
                <span class="link-icon">ï¿½</span>
                <span>Request Headers</span>
            </a>
            <a href="/logs" class="quick-link">
                <span class="link-icon">ï¿½</span>
                <span>Application Logs</span>
            </a>
            <a href="/health" class="quick-link">
                <span class="link-icon">âœ“</span>
                <span>Health Check</span>
            </a>
        </div>
    </div>
</div>
{% endblock %}
